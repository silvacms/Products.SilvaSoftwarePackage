<html>
  <body>
    <div metal:define-macro="package"
      tal:define="releases python:model.get_releases(get_public)">
      <table class="silvatable list" 
        tal:define="mangle modules/Products/Silva/mangle"
        tal:condition="releases">
        <thead>
          <tr>
            <th class="align-left">Release version</th>
            <th class="align-left">Release date</th>
            <th class="align-left">Release files</th>
          </tr>
        </thead>
        <tr tal:repeat="release releases">
          <td tal:define="title python: '%s %s' % (model.get_title(), release.id)">
            <a tal:condition="get_public" 
                tal:attributes="href release/absolute_url" 
                tal:content="title">
            </a>
            <a tal:condition="not: get_public"
                tal:attributes="href string:${release/absolute_url}/edit/tab_preview"
                tal:content="title">
            </a>
          </td>
          <td tal:content="python: mangle.DateTime(release.get_default().get_creation_datetime()).toStr()" />
          <td tal:define="files python: here.get_software_files(release)">
            <tal:block repeat="file files">
              <a tal:attributes="href file/absolute_url"
                tal:content="file/get_filename">
                filename
              </a><br />
            </tal:block>
          </td>
        </tr>
      </table>
    </div>
  </body>
</html>
