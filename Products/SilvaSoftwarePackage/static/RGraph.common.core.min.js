function pd(variable){RGraph.pr(variable)}function p(){RGraph.pr(arguments[0],arguments[1],arguments[3])}function a(variable){alert(variable)}function cl(variable){return console.log(variable)}"undefined"==typeof RGraph&&(RGraph={isRGraph:!0,type:"common"}),RGraph.Registry={},RGraph.Registry.store=[],RGraph.Registry.store["chart.event.handlers"]=[],RGraph.Registry.store.__rgraph_event_listeners__=[],RGraph.background={},RGraph.objects=[],RGraph.Resizing={},RGraph.events=[],RGraph.cursor=[],RGraph.ObjectRegistry={},RGraph.ObjectRegistry.objects={},RGraph.ObjectRegistry.objects.byUID=[],RGraph.ObjectRegistry.objects.byCanvasID=[],PI=Math.PI,HALFPI=PI/2,TWOPI=2*PI,ISFF=-1!=navigator.userAgent.indexOf("Firefox"),ISOPERA=-1!=navigator.userAgent.indexOf("Opera"),ISCHROME=-1!=navigator.userAgent.indexOf("Chrome"),ISSAFARI=-1!=navigator.userAgent.indexOf("Safari"),ISWEBKIT=-1!=navigator.userAgent.indexOf("WebKit"),RGraph.getScale=function(max,obj){if(0==max)return["0.2","0.4","0.6","0.8","1.0"];var original_max=max;if(1>=max){if(max>.5)return[.2,.4,.6,.8,Number(1).toFixed(1)];if(max>=.1)return obj.Get("chart.scale.round")?[.2,.4,.6,.8,1]:[.1,.2,.3,.4,.5];for(var tmp=max,exp=0;1.01>tmp;)exp+=1,tmp*=10;var ret=["2e-"+exp,"4e-"+exp,"6e-"+exp,"8e-"+exp,"10e-"+exp];return"5e-"+exp>=max&&(ret=["1e-"+exp,"2e-"+exp,"3e-"+exp,"4e-"+exp,"5e-"+exp]),ret}(max+"").indexOf(".")>0&&(max=(max+"").replace(/\.\d+$/,""));for(var interval=Math.pow(10,Number((Number(max)+"").length-1)),topValue=interval;max>topValue;)topValue+=interval/2;return Number(original_max)>Number(topValue)&&(topValue+=interval/2),10>max&&(topValue=5>=Number(original_max)?5:10),obj&&"boolean"==typeof obj.Get("chart.scale.round")&&obj.Get("chart.scale.round")&&(topValue=10*interval),[.2*topValue,.4*topValue,.6*topValue,.8*topValue,topValue]},RGraph.getScale2=function(obj,opt){obj.canvas,obj.context;var prop=obj.properties,numlabels="number"==typeof opt["ylabels.count"]?opt["ylabels.count"]:5,units_pre="string"==typeof opt["units.pre"]?opt["units.pre"]:"",units_post="string"==typeof opt["units.post"]?opt["units.post"]:"",max=Number(opt.max),min="number"==typeof opt.min?opt.min:0,strict=opt.strict,decimals=Number(opt["scale.decimals"]),point=opt["scale.point"],thousand=opt["scale.thousand"],original_max=max,round=opt["scale.round"],scale={max:1,labels:[]};if(max)if(1>=max&&!strict)if(max>.5){max=1,min=min,scale.min=min;for(var i=0;numlabels>i;++i){var label=((max-min)/numlabels*(i+1)+min).toFixed(decimals);scale.labels.push(units_pre+label+units_post)}}else if(max>=.1){max=.5,min=min,scale={max:.5,min:min,labels:[]};for(var i=0;numlabels>i;++i){var label=(((max-min)/numlabels+min)*(i+1)).toFixed(decimals);scale.labels.push(units_pre+label+units_post)}}else{scale={min:min,labels:[]};var max_str=max+"";if(max_str.indexOf("e")>0)var numdecimals=Math.abs(max_str.substring(max_str.indexOf("e")+1));else var numdecimals=(max+"").length-2;for(var max=1/Math.pow(10,numdecimals-1),i=0;numlabels>i;++i){var label=((max-min)/numlabels+min)*(i+1);label=label.toExponential(),label=label.split(/e/),label[0]=Math.round(label[0]),label=label.join("e"),scale.labels.push(label)}tmp=scale.labels[scale.labels.length-1].split(/e/),tmp[0]+=0,tmp[1]=Number(tmp[1])-1,tmp=tmp[0]+"e"+tmp[1],scale.labels[scale.labels.length-1]=tmp;for(var i=0;scale.labels.length>i;++i)scale.labels[i]=units_pre+scale.labels[i]+units_post;scale.max=Number(max)}else if(strict){if("number"==typeof max&&strict){for(var i=0;numlabels>i;++i)scale.labels.push(RGraph.number_format(obj,((i+1)/numlabels*(max-min)+min).toFixed(decimals),units_pre,units_post));scale.max=max}}else{max=Math.ceil(max);for(var interval=Math.pow(10,Number((Number(max)-Number(min)+"").length-1)),topValue=interval;max>topValue;)topValue+=interval/2;Number(original_max)>Number(topValue)&&(topValue+=interval/2),10>=max&&(topValue=5>=Number(original_max)?5:10),obj&&"boolean"==typeof round&&round&&(topValue=10*interval),scale.max=topValue;var tmp_point=prop["chart.scale.point"],tmp_thousand=prop["chart.scale.thousand"];obj.Set("chart.scale.thousand",thousand),obj.Set("chart.scale.point",point);for(var i=0;numlabels>i;++i)scale.labels.push(RGraph.number_format(obj,((i+1)/numlabels*(topValue-min)+min).toFixed(decimals),units_pre,units_post));obj.Set("chart.scale.thousand",tmp_thousand),obj.Set("chart.scale.point",tmp_point)}else for(var max=1,scale={max:1,min:0,labels:[]},i=0;numlabels>i;++i){var label=(((max-min)/numlabels+min)*(i+1)).toFixed(decimals);scale.labels.push(units_pre+label+units_post)}return scale.units_pre=units_pre,scale.units_post=units_post,scale.point=point,scale.decimals=decimals,scale.thousand=thousand,scale.numlabels=numlabels,scale.round=Boolean(round),scale.min=min,scale},RGraph.array_max=function(arr){var max=null;if("number"==typeof arr)return arr;for(var i=0;arr.length>i;++i)if("number"==typeof arr[i]){var val=arguments[1]?Math.abs(arr[i]):arr[i];max="number"==typeof max?Math.max(max,val):val}return max},RGraph.array_pad=function(arr,len){if(len>arr.length)for(var val=arguments[2]?arguments[2]:null,i=arr.length;len>i;++i)arr[i]=val;return arr},RGraph.array_sum=function(arr){if("number"==typeof arr)return arr;var i,sum,len=arr.length;for(i=0,sum=0;len>i;sum+=arr[i++]);return sum},RGraph.array_linearize=function(){for(var arr=[],args=arguments,i=0;args.length>i;++i)if("object"==typeof args[i]&&args[i])for(var j=0;arguments[i].length>j;++j)for(var sub=RGraph.array_linearize(args[i][j]),k=0;sub.length>k;++k)arr.push(sub[k]);else arr.push(args[i]);return arr},RGraph.Text=function(context,font,size,x,y,text){var args=arguments;if(("string"==typeof text||"number"==typeof text)&&"undefined"!=text){if("string"==typeof text&&text.match(/\r\n/)){var dimensions=RGraph.MeasureText("M",args[11],font,size),arr=text.split("\r\n");args[6]&&"center"==args[6]&&(y-=dimensions[1]*((arr.length-1)/2));for(var i=1;arr.length>i;++i)RGraph.Text(context,font,size,-90==args[9]?x+1.5*size:x,y+dimensions[1]*i,arr[i],args[6]?args[6]:null,args[7],args[8],args[9],args[10],args[11],args[12]);text=arr[0]}document.all&&ISOLD&&(y+=2),context.font=(args[11]?"Bold ":"")+size+"pt "+font;var i,originalFillStyle=context.fillStyle,originalLineWidth=context.lineWidth;if(args[6]===void 0&&(args[6]="bottom"),args[7]===void 0&&(args[7]="left"),args[8]===void 0&&(args[8]=null),args[9]===void 0&&(args[9]=0),-1!=navigator.userAgent.indexOf("Opera")&&(context.canvas.__rgraph_valign__=args[6],context.canvas.__rgraph_halign__=args[7]),context.save(),context.canvas.__rgraph_originalx__=x,context.canvas.__rgraph_originaly__=y,context.translate(x,y),x=0,y=0,args[9]&&context.rotate(args[9]/(180/PI)),args[6]){var vAlign=args[6];"center"==vAlign?context.textBaseline="middle":"top"==vAlign&&(context.textBaseline="top")}if(args[7]){var hAlign=args[7],width=context.measureText(text).width;hAlign&&("center"==hAlign?context.textAlign="center":"right"==hAlign&&(context.textAlign="right"))}context.fillStyle=originalFillStyle,context.save(),context.fillText(text,0,0),context.lineWidth=1;var width=context.measureText(text).width,width_offset="center"==hAlign?width/2:"right"==hAlign?width:0,height=1.5*size,height_offset="center"==vAlign?height/2:"top"==vAlign?height:0,ieOffset=ISOLD?2:0;args[8]&&(context.strokeRect(-3-width_offset,-3-height-ieOffset+height_offset,width+6,height+6),args[10]&&(context.fillStyle=args[10],context.fillRect(-3-width_offset,-3-height-ieOffset+height_offset,width+6,height+6)),context.fillStyle=originalFillStyle,context.fillText(text,0,0)),context.restore(),context.lineWidth=originalLineWidth,context.restore()}},RGraph.Clear=function(canvas){if(canvas){RGraph.FireCustomEvent(canvas.__object__,"onbeforeclear");var context=canvas.getContext("2d"),color=arguments[1];if(ISIE8&&!color&&(color="white"),!color||color&&"rgba(0,0,0,0)"==color||"transparent"==color?(context.clearRect(0,0,canvas.width,canvas.height),context.globalCompositeOperation="source-over"):(context.fillStyle=color,context=canvas.getContext("2d"),context.beginPath(),ISIE8?context.fillRect(0,0,canvas.width,canvas.height):context.fillRect(-10,-10,canvas.width+20,canvas.height+20),context.fill()),RGraph.Registry.Get("chart.background.image."+canvas.id)){var img=RGraph.Registry.Get("chart.background.image."+canvas.id);img.style.position="absolute",img.style.left="-10000px",img.style.top="-10000px"}RGraph.Registry.Get("chart.tooltip")&&RGraph.HideTooltip(canvas),canvas.style.cursor="default",RGraph.FireCustomEvent(canvas.__object__,"onclear")}},RGraph.DrawTitle=function(obj,text,gutterTop){var ca=canvas=obj.canvas,co=context=obj.context,prop=obj.properties,gutterLeft=prop["chart.gutter.left"],gutterRight=prop["chart.gutter.right"],gutterTop=gutterTop,gutterBottom=prop["chart.gutter.bottom"],size=arguments[4]?arguments[4]:12,bold=prop["chart.title.bold"],centerx=arguments[3]?arguments[3]:(ca.width-gutterLeft-gutterRight)/2+gutterLeft,keypos=prop["chart.key.position"],vpos=prop["chart.title.vpos"],hpos=prop["chart.title.hpos"],bgcolor=prop["chart.title.background"],x=prop["chart.title.x"],y=prop["chart.title.y"],halign="center",valign="center";if("bar"==obj.type&&"3d"==prop["chart.variant"]&&(keypos="gutter"),co.beginPath(),co.fillStyle=prop["chart.text.color"]?prop["chart.text.color"]:"black",keypos&&"gutter"!=keypos)var valign="center";else if(keypos)var valign="bottom";else var valign="center";"number"==typeof prop["chart.title.vpos"]?(vpos=prop["chart.title.vpos"]*gutterTop,"top"==prop["chart.xaxispos"]&&(vpos=prop["chart.title.vpos"]*gutterBottom+gutterTop+(ca.height-gutterTop-gutterBottom))):(vpos=gutterTop-size-5,"top"==prop["chart.xaxispos"]&&(vpos=ca.height-gutterBottom+size+5)),"number"==typeof hpos&&(centerx=hpos*ca.width),"number"==typeof x&&(centerx=x),"number"==typeof y&&(vpos=y),"string"==typeof prop["chart.title.halign"]&&(halign=prop["chart.title.halign"]),"string"==typeof prop["chart.title.valign"]&&(valign=prop["chart.title.valign"]);var oldColor=context.fillStyle,newColor=prop["chart.title.color"];context.fillStyle=newColor?newColor:"black";var font=prop["chart.text.font"];"string"==typeof prop["chart.title.font"]&&(font=prop["chart.title.font"]),RGraph.Text2(obj,{font:font,size:size,x:centerx,y:vpos,text:text,valign:valign,halign:halign,bounding:null!=bgcolor,"bounding.fill":bgcolor,bold:bold,tag:"title"}),context.fillStyle=oldColor},RGraph.getMouseXY=function(e){var x,y,el=e.target,ca=el,caStyle=ca.style,offsetX=0,offsetY=0,ISFIXED="fixed"==ca.style.position,borderLeft=parseInt(caStyle.borderLeftWidth)||0,borderTop=parseInt(caStyle.borderTopWidth)||0,paddingLeft=parseInt(caStyle.paddingLeft)||0,paddingTop=parseInt(caStyle.paddingTop)||0,additionalX=borderLeft+paddingLeft,additionalY=borderTop+paddingTop;if("number"==typeof e.offsetX&&"number"==typeof e.offsetY)ISFIXED?ISOPERA?(x=e.offsetX,y=e.offsetY):ISWEBKIT?(x=e.offsetX-paddingLeft-borderLeft,y=e.offsetY-paddingTop-borderTop):ISIE?(x=e.offsetX-paddingLeft,y=e.offsetY-paddingTop):(x=e.offsetX,y=e.offsetY):ISIE||ISOPERA?ISIE?(x=e.offsetX-paddingLeft,y=e.offsetY-paddingTop):(x=e.offsetX,y=e.offsetY):(x=e.offsetX-borderLeft-paddingLeft,y=e.offsetY-borderTop-paddingTop);else if(e.layerX&&e.layerY)ca.style.position||(ca.style.position="relative",ca.style.top=0,ca.style.left=0),x=e.layerX,y=e.layerY,ISFIXED&&(x=e.layerX-borderLeft-paddingLeft,y=e.layerY-borderTop-paddingTop);else{if(el.offsetParent!==void 0)do offsetX+=el.offsetLeft,offsetY+=el.offsetTop;while(el=el.offsetParent);x=e.pageX-offsetX-additionalX,y=e.pageY-offsetY-additionalY,x-=2*(parseInt(document.body.style.borderLeftWidth)||0),y-=2*(parseInt(document.body.style.borderTopWidth)||0),x+=parseInt(caStyle.borderLeftWidth)||0,y+=parseInt(caStyle.borderTopWidth)||0}return[x,y]},RGraph.getCanvasXY=function(canvas){var x=0,y=0,el=canvas;do x+=el.offsetLeft,y+=el.offsetTop,"table"==el.tagName.toLowerCase()&&(ISCHROME||ISSAFARI)&&(x+=parseInt(el.border)||0,y+=parseInt(el.border)||0),el=el.offsetParent;while(el&&"body"!=el.tagName.toLowerCase());var paddingLeft=canvas.style.paddingLeft?parseInt(canvas.style.paddingLeft):0,paddingTop=canvas.style.paddingTop?parseInt(canvas.style.paddingTop):0,borderLeft=canvas.style.borderLeftWidth?parseInt(canvas.style.borderLeftWidth):0,borderTop=canvas.style.borderTopWidth?parseInt(canvas.style.borderTopWidth):0;return navigator.userAgent.indexOf("Firefox")>0&&(x+=parseInt(document.body.style.borderLeftWidth)||0,y+=parseInt(document.body.style.borderTopWidth)||0),[x+paddingLeft+borderLeft,y+paddingTop+borderTop]},RGraph.isFixed=function(canvas){for(var obj=canvas,i=0;"body"!=obj.tagName.toLowerCase()&&99>i;){if("fixed"==obj.style.position)return obj;obj=obj.offsetParent}return!1},RGraph.Register=function(obj){obj.Get("chart.noregister")||(RGraph.ObjectRegistry.Add(obj),obj.Set("chart.noregister",!0))},RGraph.Redraw=function(){for(var objectRegistry=RGraph.ObjectRegistry.objects.byCanvasID,tags=document.getElementsByTagName("canvas"),i=0;tags.length>i;++i)tags[i].__object__&&tags[i].__object__.isRGraph&&(tags[i].noclear||RGraph.Clear(tags[i],arguments[0]?arguments[0]:null));for(var i=0;objectRegistry.length>i;++i)objectRegistry[i]&&(objectRegistry[i][0],objectRegistry[i][1].Draw())},RGraph.RedrawCanvas=function(canvas){var objects=RGraph.ObjectRegistry.getObjectsByCanvasID(canvas.id);(!arguments[1]||"boolean"==typeof arguments[1]&&0==!arguments[1])&&RGraph.Clear(canvas);for(var i=0;objects.length>i;++i)objects[i]&&objects[i]&&objects[i].isRGraph&&objects[i].Draw()},RGraph.background.Draw=function(obj){var ca=canvas=obj.canvas,co=context=obj.context,prop=obj.properties,height=0,gutterLeft=obj.gutterLeft,gutterRight=obj.gutterRight,gutterTop=obj.gutterTop,gutterBottom=obj.gutterBottom,variant=prop["chart.variant"];if(co.fillStyle=prop["chart.text.color"],"3d"==variant&&(co.save(),co.translate(10,-5)),"string"==typeof prop["chart.title.xaxis"]&&prop["chart.title.xaxis"].length){var size=prop["chart.text.size"]+2,font=prop["chart.text.font"],bold=prop["chart.title.xaxis.bold"];"number"==typeof prop["chart.title.xaxis.size"]&&(size=prop["chart.title.xaxis.size"]),"string"==typeof prop["chart.title.xaxis.font"]&&(font=prop["chart.title.xaxis.font"]);var hpos=(ca.width-gutterLeft-gutterRight)/2+gutterLeft,vpos=ca.height-gutterBottom+25;"number"==typeof prop["chart.title.xaxis.pos"]&&(vpos=ca.height-gutterBottom*prop["chart.title.xaxis.pos"]),RGraph.Text2(obj,{font:font,size:size,x:hpos,y:vpos,text:prop["chart.title.xaxis"],halign:"center",valign:"center",bold:bold,tag:"title xaxis"})}if("string"==typeof prop["chart.title.yaxis"]&&prop["chart.title.yaxis"].length){var size=prop["chart.text.size"]+2,font=prop["chart.text.font"],angle=270,bold=prop["chart.title.yaxis.bold"],color=prop["chart.title.yaxis.color"];if("number"==typeof prop["chart.title.yaxis.pos"])var yaxis_title_pos=prop["chart.title.yaxis.pos"]*gutterLeft;else var yaxis_title_pos=(gutterLeft-25)/gutterLeft*gutterLeft;"number"==typeof prop["chart.title.yaxis.size"]&&(size=prop["chart.title.yaxis.size"]),"string"==typeof prop["chart.title.yaxis.font"]&&(font=prop["chart.title.yaxis.font"]),"right"==prop["chart.title.yaxis.align"]||"right"==prop["chart.title.yaxis.position"]?(angle=90,yaxis_title_pos=prop["chart.title.yaxis.pos"]?ca.width-gutterRight+prop["chart.title.yaxis.pos"]*gutterRight:ca.width-gutterRight+prop["chart.text.size"]+5):yaxis_title_pos=yaxis_title_pos,context.fillStyle=color,RGraph.Text2(obj,{font:font,size:size,x:yaxis_title_pos,y:(ca.height-gutterTop-gutterBottom)/2+gutterTop,valign:"center",halign:"center",angle:angle,bold:bold,text:prop["chart.title.yaxis"],tag:"title yaxis"})}var bgcolor=prop["chart.background.color"];bgcolor&&(co.fillStyle=bgcolor,co.fillRect(gutterLeft,gutterTop,ca.width-gutterLeft-gutterRight,ca.height-gutterTop-gutterBottom)),co.beginPath(),co.fillStyle=prop["chart.background.barcolor1"],co.strokeStyle=co.fillStyle,height=ca.height-gutterBottom;for(var i=gutterTop;height>i;i+=80)co.fillRect(gutterLeft,i,ca.width-gutterLeft-gutterRight,Math.min(40,ca.height-gutterBottom-i));co.fillStyle=prop["chart.background.barcolor2"],co.strokeStyle=co.fillStyle,height=ca.height-gutterBottom;for(var i=40+gutterTop;height>i;i+=80)co.fillRect(gutterLeft,i,ca.width-gutterLeft-gutterRight,i+40>ca.height-gutterBottom?ca.height-(gutterBottom+i):40);if(co.beginPath(),prop["chart.background.grid"]){if(prop["chart.background.grid.autofit"]){prop["chart.background.grid.autofit.align"]&&(obj.Set("chart.background.grid.autofit.numhlines",prop["chart.ylabels.count"]),"line"==obj.type?prop["chart.labels"]&&prop["chart.labels"].length?obj.Set("chart.background.grid.autofit.numvlines",prop["chart.labels"].length-1):obj.Set("chart.background.grid.autofit.numvlines",obj.data[0].length-1):"bar"==obj.type&&prop["chart.labels"]&&prop["chart.labels"].length&&obj.Set("chart.background.grid.autofit.numvlines",prop["chart.labels"].length));var vsize=(ca.width-gutterLeft-gutterRight)/prop["chart.background.grid.autofit.numvlines"],hsize=(ca.height-gutterTop-gutterBottom)/prop["chart.background.grid.autofit.numhlines"];obj.Set("chart.background.grid.vsize",vsize),obj.Set("chart.background.grid.hsize",hsize)}if(co.beginPath(),co.lineWidth=prop["chart.background.grid.width"]?prop["chart.background.grid.width"]:1,co.strokeStyle=prop["chart.background.grid.color"],prop["chart.background.grid.hlines"])for(height=ca.height-gutterBottom,y=gutterTop;height>y;y+=prop["chart.background.grid.hsize"])context.moveTo(gutterLeft,Math.round(y)),context.lineTo(ca.width-gutterRight,Math.round(y));if(prop["chart.background.grid.vlines"]){var width=ca.width-gutterRight;for(x=gutterLeft;width>=x;x+=prop["chart.background.grid.vsize"])co.moveTo(Math.round(x),gutterTop),co.lineTo(Math.round(x),ca.height-gutterBottom)}prop["chart.background.grid.border"]&&(co.strokeStyle=prop["chart.background.grid.color"],co.strokeRect(Math.round(gutterLeft),Math.round(gutterTop),ca.width-gutterLeft-gutterRight,ca.height-gutterTop-gutterBottom))}context.stroke(),"3d"==variant&&co.restore(),"string"==typeof prop["chart.title"]&&("gantt"==obj.type&&(gutterTop-=10),RGraph.DrawTitle(obj,prop["chart.title"],gutterTop,null,prop["chart.title.size"]?prop["chart.title.size"]:prop["chart.text.size"]+2)),co.stroke()},RGraph.array_clone=function(obj){if(null==obj||"object"!=typeof obj)return obj;for(var temp=[],i=0;obj.length>i;++i)temp[i]="number"==typeof obj[i]?function(arg){return Number(arg)}(obj[i]):"string"==typeof obj[i]?function(arg){return arg+""}(obj[i]):"function"==typeof obj[i]?obj[i]:RGraph.array_clone(obj[i]);return temp},RGraph.number_format=function(obj,num){obj.canvas,obj.context;var i,prop=obj.properties,prepend=arguments[2]?arguments[2]+"":"",append=arguments[3]?arguments[3]+"":"",output="",decimal="",decimal_seperator="string"==typeof prop["chart.scale.point"]?prop["chart.scale.point"]:".",thousand_seperator="string"==typeof prop["chart.scale.thousand"]?prop["chart.scale.thousand"]:",";RegExp.$1="";var i,j;if("function"==typeof prop["chart.scale.formatter"])return prop["chart.scale.formatter"](obj,num);if((num+"").indexOf("e")>0)return prepend+(num+"")+append+"";if(num+="",num.indexOf(".")>0){var tmp=num;num=num.replace(/\.(.*)/,""),decimal=tmp.replace(/(.*)\.(.*)/,"$2")}var seperator=thousand_seperator;for(i=num.length-1,j=0;i>=0;j++,i--){var character=num.charAt(i);0==j%3&&0!=j&&(output+=seperator),output+=character}var rev=output;for(output="",i=rev.length-1;i>=0;i--)output+=rev.charAt(i);return 0==output.indexOf("-"+prop["chart.scale.thousand"])&&(output="-"+output.substr(("-"+prop["chart.scale.thousand"]).length)),decimal.length&&(output=output+decimal_seperator+decimal,decimal="",RegExp.$1=""),"-"==output.charAt(0)&&(output=output.replace(/-/,""),prepend="-"+prepend),prepend+output+append},RGraph.DrawBars=function(obj){var hbars=obj.Get("chart.background.hbars");for(obj.context.beginPath(),i=0;hbars.length>i;++i){null==hbars[i][1]?hbars[i][1]=obj.scale2.max:hbars[i][0]+hbars[i][1]>obj.scale2.max&&(hbars[i][1]=obj.scale2.max-hbars[i][0]),Math.abs(hbars[i][1])>obj.scale2.max&&(hbars[i][1]=-1*obj.scale2.max),Math.abs(hbars[i][0])>obj.scale2.max&&(hbars[i][0]=obj.scale2.max),hbars[i][0]+hbars[i][1]<-1*obj.scale2.max&&(hbars[i][1]=-1*(obj.scale2.max+hbars[i][0])),"bottom"==obj.Get("chart.xaxispos")&&(0>hbars[i][0]||0>hbars[i][1]+hbars[i][1])&&alert("["+obj.type.toUpperCase()+" (ID: "+obj.id+") BACKGROUND HBARS] You have a negative value in one of your background hbars values, whilst the X axis is in the center");var ystart=obj.grapharea-(hbars[i][0]-obj.scale2.min)/(obj.scale2.max-obj.scale2.min)*obj.grapharea,height=Math.min(hbars[i][1],obj.max-hbars[i][0])/(obj.scale2.max-obj.scale2.min)*obj.grapharea;"center"==obj.Get("chart.xaxispos")&&(ystart/=2,height/=2),ystart+=obj.Get("chart.gutter.top");var x=obj.Get("chart.gutter.left"),y=ystart-height,w=obj.canvas.width-obj.Get("chart.gutter.left")-obj.Get("chart.gutter.right"),h=height;-1!=navigator.userAgent.indexOf("Opera")&&"center"==obj.Get("chart.xaxispos")&&0>h&&(h*=-1,y-=h),"top"==obj.Get("chart.xaxispos")&&(y=obj.canvas.height-y,h*=-1),obj.context.fillStyle=hbars[i][2],obj.context.fillRect(x,y,w,h)}obj.context.fill()},RGraph.DrawInGraphLabels=function(obj){obj.canvas;var context=obj.context,labels=obj.Get("chart.labels.ingraph"),labels_processed=[];if(labels){for(var i=0;labels.length>i;++i)if("number"==typeof labels[i])for(var j=0;labels[i]>j;++j)labels_processed.push(null);else"string"==typeof labels[i]||"object"==typeof labels[i]?labels_processed.push(labels[i]):labels_processed.push("");if(RGraph.NoShadow(obj),labels_processed&&labels_processed.length>0)for(var i=0;labels_processed.length>i;++i)if(labels_processed[i]){var coords=obj.coords[i];if(coords&&coords.length>0){var x="bar"==obj.type?coords[0]+coords[2]/2:coords[0],y="bar"==obj.type?coords[1]+coords[3]/2:coords[1],length="number"==typeof labels_processed[i][4]?labels_processed[i][4]:25;if(context.beginPath(),context.fillStyle="black",context.strokeStyle="black","bar"==obj.type){if("top"==obj.Get("chart.xaxispos")&&(length*=-1),"dot"==obj.Get("chart.variant")){context.moveTo(Math.round(x),obj.coords[i][1]-5),context.lineTo(Math.round(x),obj.coords[i][1]-5-length);var text_x=Math.round(x),text_y=obj.coords[i][1]-5-length}else if("arrow"==obj.Get("chart.variant")){context.moveTo(Math.round(x),obj.coords[i][1]-5),context.lineTo(Math.round(x),obj.coords[i][1]-5-length);var text_x=Math.round(x),text_y=obj.coords[i][1]-5-length}else{context.arc(Math.round(x),y,2.5,0,6.28,0),context.moveTo(Math.round(x),y),context.lineTo(Math.round(x),y-length);var text_x=Math.round(x),text_y=y-length}context.stroke(),context.fill()}else if("line"==obj.type){if("object"==typeof labels_processed[i]&&"number"==typeof labels_processed[i][3]&&-1==labels_processed[i][3]){context.moveTo(Math.round(x),y+5),context.lineTo(Math.round(x),y+5+length),context.stroke(),context.beginPath(),context.moveTo(Math.round(x),y+5),context.lineTo(Math.round(x)-3,y+10),context.lineTo(Math.round(x)+3,y+10),context.closePath();var text_x=x,text_y=y+5+length}else{var text_x=x,text_y=y-5-length;context.moveTo(Math.round(x),y-5),context.lineTo(Math.round(x),y-5-length),context.stroke(),context.beginPath(),context.moveTo(Math.round(x),y-5),context.lineTo(Math.round(x)-3,y-10),context.lineTo(Math.round(x)+3,y-10),context.closePath()}context.fill()}context.beginPath(),context.fillStyle="object"==typeof labels_processed[i]&&"string"==typeof labels_processed[i][1]?labels_processed[i][1]:"black",RGraph.Text2(obj,{font:obj.Get("chart.text.font"),size:obj.Get("chart.text.size"),x:text_x,y:text_y,text:"object"==typeof labels_processed[i]&&"string"==typeof labels_processed[i][0]?labels_processed[i][0]:labels_processed[i],valign:"bottom",halign:"center",bounding:!0,"bounding.fill":"object"==typeof labels_processed[i]&&"string"==typeof labels_processed[i][2]?labels_processed[i][2]:"white",tag:"labels ingraph"}),context.fill()}}}},RGraph.FixEventObject=function(e){if(ISOLD){var e=event;e.pageX=event.clientX+document.body.scrollLeft,e.pageY=event.clientY+document.body.scrollTop,e.target=event.srcElement,!document.body.scrollTop&&document.documentElement.scrollTop&&(e.pageX+=parseInt(document.documentElement.scrollLeft),e.pageY+=parseInt(document.documentElement.scrollTop))}if(e.offsetX===void 0&&e.offsetY===void 0){var coords=RGraph.getMouseXY(e);e.offsetX=coords[0],e.offsetY=coords[1]}return e.stopPropagation||(e.stopPropagation=function(){window.event.cancelBubble=!0}),e},RGraph.HideCrosshairCoords=function(){var div=RGraph.Registry.Get("chart.coordinates.coords.div");div&&1==div.style.opacity&&div.__object__.Get("chart.crosshairs.coords.fadeout")&&(setTimeout(function(){RGraph.Registry.Get("chart.coordinates.coords.div").style.opacity=.9},50),setTimeout(function(){RGraph.Registry.Get("chart.coordinates.coords.div").style.opacity=.8},100),setTimeout(function(){RGraph.Registry.Get("chart.coordinates.coords.div").style.opacity=.7},150),setTimeout(function(){RGraph.Registry.Get("chart.coordinates.coords.div").style.opacity=.6},200),setTimeout(function(){RGraph.Registry.Get("chart.coordinates.coords.div").style.opacity=.5},250),setTimeout(function(){RGraph.Registry.Get("chart.coordinates.coords.div").style.opacity=.4},300),setTimeout(function(){RGraph.Registry.Get("chart.coordinates.coords.div").style.opacity=.3},350),setTimeout(function(){RGraph.Registry.Get("chart.coordinates.coords.div").style.opacity=.2},400),setTimeout(function(){RGraph.Registry.Get("chart.coordinates.coords.div").style.opacity=.1},450),setTimeout(function(){RGraph.Registry.Get("chart.coordinates.coords.div").style.opacity=0},500),setTimeout(function(){RGraph.Registry.Get("chart.coordinates.coords.div").style.display="none"},550))},RGraph.Draw3DAxes=function(obj){var gutterLeft=obj.Get("chart.gutter.left"),gutterRight=obj.Get("chart.gutter.right"),gutterTop=obj.Get("chart.gutter.top"),gutterBottom=obj.Get("chart.gutter.bottom"),context=obj.context,canvas=obj.canvas;context.strokeStyle="#aaa",context.fillStyle="#ddd",context.beginPath(),context.moveTo(gutterLeft,gutterTop),context.lineTo(gutterLeft+10,gutterTop-5),context.lineTo(gutterLeft+10,canvas.height-gutterBottom-5),context.lineTo(gutterLeft,canvas.height-gutterBottom),context.closePath(),context.stroke(),context.fill(),context.beginPath(),context.moveTo(gutterLeft,canvas.height-gutterBottom),context.lineTo(gutterLeft+10,canvas.height-gutterBottom-5),context.lineTo(canvas.width-gutterRight+10,canvas.height-gutterBottom-5),context.lineTo(canvas.width-gutterRight,canvas.height-gutterBottom),context.closePath(),context.stroke(),context.fill()},RGraph.OldBrowserCompat=function(context){context&&(context.measureText||(context.measureText=function(text){var textObj=document.createElement("DIV");textObj.innerHTML=text,textObj.style.position="absolute",textObj.style.top="-100px",textObj.style.left=0,document.body.appendChild(textObj);var width={width:textObj.offsetWidth};return textObj.style.display="none",width}),context.fillText||(context.fillText=function(){return!1}),context.canvas.addEventListener||(window.addEventListener=function(ev,func){return this.attachEvent("on"+ev,func)},context.canvas.addEventListener=function(ev,func){return this.attachEvent("on"+ev,func)}))},RGraph.strokedCurvyRect=function(context,x,y,w,h){var r=arguments[5]?arguments[5]:3,corner_tl=arguments[6]||null==arguments[6]?!0:!1,corner_tr=arguments[7]||null==arguments[7]?!0:!1,corner_br=arguments[8]||null==arguments[8]?!0:!1,corner_bl=arguments[9]||null==arguments[9]?!0:!1;context.beginPath(),context.moveTo(x+(corner_tl?r:0),y),context.lineTo(x+w-(corner_tr?r:0),y),corner_tr&&context.arc(x+w-r,y+r,r,PI+HALFPI,TWOPI,!1),context.lineTo(x+w,y+h-(corner_br?r:0)),corner_br&&context.arc(x+w-r,y-r+h,r,TWOPI,HALFPI,!1),context.lineTo(x+(corner_bl?r:0),y+h),corner_bl&&context.arc(x+r,y-r+h,r,HALFPI,PI,!1),context.lineTo(x,y+(corner_tl?r:0)),corner_tl&&context.arc(x+r,y+r,r,PI,PI+HALFPI,!1),context.stroke()},RGraph.filledCurvyRect=function(context,x,y,w,h){var r=arguments[5]?arguments[5]:3,corner_tl=arguments[6]||null==arguments[6]?!0:!1,corner_tr=arguments[7]||null==arguments[7]?!0:!1,corner_br=arguments[8]||null==arguments[8]?!0:!1,corner_bl=arguments[9]||null==arguments[9]?!0:!1;context.beginPath(),corner_tl?(context.moveTo(x+r,y+r),context.arc(x+r,y+r,r,PI,PI+HALFPI,!1)):context.fillRect(x,y,r,r),corner_tr?(context.moveTo(x+w-r,y+r),context.arc(x+w-r,y+r,r,PI+HALFPI,0,!1)):(context.moveTo(x+w-r,y),context.fillRect(x+w-r,y,r,r)),corner_br?(context.moveTo(x+w-r,y+h-r),context.arc(x+w-r,y-r+h,r,0,HALFPI,!1)):(context.moveTo(x+w-r,y+h-r),context.fillRect(x+w-r,y+h-r,r,r)),corner_bl?(context.moveTo(x+r,y+h-r),context.arc(x+r,y-r+h,r,HALFPI,PI,!1)):(context.moveTo(x,y+h-r),context.fillRect(x,y+h-r,r,r)),context.fillRect(x+r,y,w-r-r,h),context.fillRect(x,y+r,r+1,h-r-r),context.fillRect(x+w-r-1,y+r,r+1,h-r-r),context.fill()},RGraph.HideZoomedCanvas=function(){var interval=15,frames=10;if("object"==typeof __zoomedimage__){if(obj=__zoomedimage__.obj,obj.Get("chart.zoom.fade.out")){for(var i=frames,j=1;i>=0;--i,++j)"object"==typeof __zoomedimage__&&setTimeout("__zoomedimage__.style.opacity = "+(i/10+""),j*interval);"object"==typeof __zoomedbackground__&&setTimeout("__zoomedbackground__.style.opacity = "+(i/frames+""),j*interval)}"object"==typeof __zoomedimage__&&setTimeout("__zoomedimage__.style.display = 'none'",obj.Get("chart.zoom.fade.out")?frames*interval+10:0),"object"==typeof __zoomedbackground__&&setTimeout("__zoomedbackground__.style.display = 'none'",obj.Get("chart.zoom.fade.out")?frames*interval+10:0)}},RGraph.AddCustomEventListener=function(obj,name,func){return RGraph.events[obj.uid]===void 0&&(RGraph.events[obj.uid]=[]),RGraph.events[obj.uid].push([obj,name,func]),RGraph.events[obj.uid].length-1},RGraph.FireCustomEvent=function(obj,name){if(obj&&obj.isRGraph){obj[name]&&obj[name](obj);var uid=obj.uid;if("string"==typeof uid&&"object"==typeof RGraph.events&&"object"==typeof RGraph.events[uid]&&RGraph.events[uid].length>0)for(var j=0;RGraph.events[uid].length>j;++j)RGraph.events[uid][j]&&RGraph.events[uid][j][1]==name&&RGraph.events[uid][j][2](obj)}},RGraph.SetConfig=function(obj,c){for(i in c)"string"==typeof i&&obj.Set(i,c[i]);return obj},RGraph.RemoveAllCustomEventListeners=function(){var id=arguments[0];id&&RGraph.events[id]?RGraph.events[id]=[]:RGraph.events=[]},RGraph.RemoveCustomEventListener=function(obj,i){"object"==typeof RGraph.events&&"object"==typeof RGraph.events[obj.id]&&"object"==typeof RGraph.events[obj.id][i]&&(RGraph.events[obj.id][i]=null)},RGraph.DrawBackgroundImage=function(obj){if("string"==typeof obj.Get("chart.background.image")){if(obj.canvas.__rgraph_background_image__===void 0){var img=new Image;img.__object__=obj,img.__canvas__=obj.canvas,img.__context__=obj.context,img.src=obj.Get("chart.background.image"),obj.canvas.__rgraph_background_image__=img}else img=obj.canvas.__rgraph_background_image__;img.onload=function(){obj.__rgraph_background_image_loaded__=!0,RGraph.Clear(obj.canvas),RGraph.RedrawCanvas(obj.canvas)};var gutterLeft=obj.Get("chart.gutter.left"),gutterRight=obj.Get("chart.gutter.right"),gutterTop=obj.Get("chart.gutter.top"),gutterBottom=obj.Get("chart.gutter.bottom"),stretch=obj.Get("chart.background.image.stretch"),align=obj.Get("chart.background.image.align");if("string"==typeof align){if(-1!=align.indexOf("right"))var x=obj.canvas.width-img.width-gutterRight;else var x=gutterLeft;if(-1!=align.indexOf("bottom"))var y=obj.canvas.height-img.height-gutterBottom;else var y=gutterTop}else var x=gutterLeft,y=gutterTop;var x="number"==typeof obj.Get("chart.background.image.x")?obj.Get("chart.background.image.x"):x,y="number"==typeof obj.Get("chart.background.image.y")?obj.Get("chart.background.image.y"):y,w=stretch?obj.canvas.width-gutterLeft-gutterRight:img.width,h=stretch?obj.canvas.height-gutterTop-gutterBottom:img.height;"number"==typeof obj.Get("chart.background.image.w")&&(w=obj.Get("chart.background.image.w")),"number"==typeof obj.Get("chart.background.image.h")&&(h=obj.Get("chart.background.image.h")),obj.context.drawImage(img,x,y,w,h)
}},RGraph.hasTooltips=function(obj){if("object"==typeof obj.Get("chart.tooltips")&&obj.Get("chart.tooltips")){for(var i=0;obj.Get("chart.tooltips").length>i;++i)if(!RGraph.is_null(obj.Get("chart.tooltips")[i]))return!0}else if("function"==typeof obj.Get("chart.tooltips"))return!0;return!1},RGraph.CreateUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(c){var r=0|16*Math.random(),v="x"==c?r:8|3&r;return v.toString(16)})},RGraph.ObjectRegistry.Add=function(obj){var uid=obj.uid,canvasID=obj.canvas.id;RGraph.ObjectRegistry.objects.byUID.push([uid,obj]),RGraph.ObjectRegistry.objects.byCanvasID.push([canvasID,obj])},RGraph.ObjectRegistry.Remove=function(obj){obj.id;for(var uid=obj.uid,i=0;RGraph.ObjectRegistry.objects.byUID.length>i;++i)RGraph.ObjectRegistry.objects.byUID[i]&&RGraph.ObjectRegistry.objects.byUID[i][1].uid==uid&&(RGraph.ObjectRegistry.objects.byUID[i]=null);for(var i=0;RGraph.ObjectRegistry.objects.byCanvasID.length>i;++i)RGraph.ObjectRegistry.objects.byCanvasID[i]&&RGraph.ObjectRegistry.objects.byCanvasID[i][1]&&RGraph.ObjectRegistry.objects.byCanvasID[i][1].uid==uid&&(RGraph.ObjectRegistry.objects.byCanvasID[i]=null)},RGraph.ObjectRegistry.Clear=function(){if(arguments[0])for(var id="object"==typeof arguments[0]?arguments[0].id:arguments[0],objects=RGraph.ObjectRegistry.getObjectsByCanvasID(id),i=0;objects.length>i;++i)RGraph.ObjectRegistry.Remove(objects[i]);else RGraph.ObjectRegistry.objects={},RGraph.ObjectRegistry.objects.byUID=[],RGraph.ObjectRegistry.objects.byCanvasID=[]},RGraph.ObjectRegistry.List=function(){for(var list=[],i=0;RGraph.ObjectRegistry.objects.byUID.length>i;++i)RGraph.ObjectRegistry.objects.byUID[i]&&list.push(RGraph.ObjectRegistry.objects.byUID[i][1].type);return arguments[0]?list:(p(list),void 0)},RGraph.ObjectRegistry.ClearByType=function(type){for(var objects=RGraph.ObjectRegistry.objects.byUID,i=0;objects.length>i;++i)if(objects[i]){objects[i][0];var obj=objects[i][1];obj&&obj.type==type&&RGraph.ObjectRegistry.Remove(obj)}},RGraph.ObjectRegistry.Iterate=function(func){for(var objects=RGraph.ObjectRegistry.objects.byUID,i=0;objects.length>i;++i)if("string"==typeof arguments[1])for(var types=arguments[1].split(/,/),j=0;types.length>j;++j)types[j]==objects[i][1].type&&func(objects[i][1]);else func(objects[i][1])},RGraph.ObjectRegistry.getObjectsByCanvasID=function(id){for(var store=RGraph.ObjectRegistry.objects.byCanvasID,ret=[],i=0;store.length>i;++i)store[i]&&store[i][0]==id&&ret.push(store[i][1]);return ret},RGraph.ObjectRegistry.getFirstObjectByXY=RGraph.ObjectRegistry.getObjectByXY=function(e){for(var canvas=e.target,objects=RGraph.ObjectRegistry.getObjectsByCanvasID(canvas.id),i=objects.length-1;i>=0;--i){var obj=objects[i].getObjectByXY(e);if(obj)return obj}},RGraph.ObjectRegistry.getObjectsByXY=function(e){for(var canvas=e.target,ret=[],objects=RGraph.ObjectRegistry.getObjectsByCanvasID(canvas.id),i=objects.length-1;i>=0;--i){var obj=objects[i].getObjectByXY(e);obj&&ret.push(obj)}return ret},RGraph.ObjectRegistry.getObjectByUID=function(uid){for(var objects=RGraph.ObjectRegistry.objects.byUID,i=0;objects.length>i;++i)if(objects[i]&&objects[i][1].uid==uid)return objects[i][1]},RGraph.ObjectRegistry.getObjectsByType=function(type){for(var objects=RGraph.ObjectRegistry.objects.byUID,ret=[],i=0;objects.length>i;++i)objects[i]&&objects[i][1]&&objects[i][1].type&&objects[i][1].type&&objects[i][1].type==type&&ret.push(objects[i][1]);return ret},RGraph.ObjectRegistry.getFirstObjectByType=function(type){for(var objects=RGraph.ObjectRegistry.objects.byUID,i=0;objects.length>i;++i)if(objects[i]&&objects[i][1]&&objects[i][1].type==type)return objects[i][1];return null},RGraph.getAngleByXY=function(cx,cy,x,y){var angle=Math.atan((y-cy)/(x-cx));return angle=Math.abs(angle),x>=cx&&y>=cy?angle+=TWOPI:x>=cx&&cy>y?angle=HALFPI-angle+(PI+HALFPI):cx>x&&cy>y?angle+=PI:angle=PI-angle,angle>TWOPI&&(angle-=TWOPI),angle},RGraph.getHypLength=function(x1,y1,x2,y2){var ret=Math.sqrt((x2-x1)*(x2-x1)+(y2-y1)*(y2-y1));return ret},RGraph.getRadiusEndPoint=function(cx,cy,angle,radius){var x=cx+Math.cos(angle)*radius,y=cy+Math.sin(angle)*radius;return[x,y]},RGraph.InstallEventListeners=function(obj){RGraph.isOld()||(RGraph.InstallCanvasClickListener?(RGraph.InstallWindowMousedownListener(obj),RGraph.InstallWindowMouseupListener(obj),RGraph.InstallCanvasMousemoveListener(obj),RGraph.InstallCanvasMouseupListener(obj),RGraph.InstallCanvasMousedownListener(obj),RGraph.InstallCanvasClickListener(obj)):(RGraph.hasTooltips(obj)||obj.Get("chart.adjustable")||obj.Get("chart.annotatable")||obj.Get("chart.contextmenu")||obj.Get("chart.resizable")||obj.Get("chart.key.interactive")||obj.Get("chart.events.click")||obj.Get("chart.events.mousemove")||"function"==typeof obj.onclick||"function"==typeof obj.onmousemove)&&alert("[RGRAPH] You appear to have used dynamic features but not included the file: RGraph.common.dynamic.js"))},RGraph.pr=function(obj){var indent=arguments[2]?arguments[2]:"    ",str="",counter="number"==typeof arguments[3]?arguments[3]:0;if(counter>=5)return"";switch(typeof obj){case"string":str+=obj+" ("+typeof obj+", "+obj.length+")";break;case"number":str+=obj+" ("+typeof obj+")";break;case"boolean":str+=obj+" ("+typeof obj+")";break;case"function":str+="function () {}";break;case"undefined":str+="undefined";break;case"null":str+="null";break;case"object":if(RGraph.is_null(obj))str+=indent+"null\n";else{str+=indent+"Object {"+"\n";for(j in obj)str+=indent+"    "+j+" => "+RGraph.pr(obj[j],!0,indent+"    ",counter+1)+"\n";str+=indent+"}"}break;default:str+="Unknown type: "+typeof obj}return arguments[1]||alert(str),str},RGraph.DashedLine=function(context,x1,y1,x2,y2){var size=5;"number"==typeof arguments[5]&&(size=arguments[5]);var dx=x2-x1,dy=y2-y1,num=Math.floor(Math.sqrt(dx*dx+dy*dy)/size),xLen=dx/num,yLen=dy/num,count=0;do 0==count%2&&count>0?context.lineTo(x1,y1):context.moveTo(x1,y1),x1+=xLen,y1+=yLen;while(num>=count++)},RGraph.AJAX=function(url,callback){if(window.XMLHttpRequest)var httpRequest=new XMLHttpRequest;else if(window.ActiveXObject)var httpRequest=new ActiveXObject("Microsoft.XMLHTTP");httpRequest.onreadystatechange=function(){4==this.readyState&&200==this.status&&(this.__user_callback__=callback,this.__user_callback__())},httpRequest.open("GET",url,!0),httpRequest.send()},RGraph.RotateCanvas=function(canvas,x,y,angle){var context=canvas.getContext("2d");context.translate(x,y),context.rotate(angle),context.translate(0-x,0-y)},RGraph.MeasureText=function(text,bold,font,size){"undefined"==typeof __rgraph_measuretext_cache__&&(__rgraph_measuretext_cache__=[]);var str=text+":"+bold+":"+font+":"+size;if("object"==typeof __rgraph_measuretext_cache__&&__rgraph_measuretext_cache__[str])return __rgraph_measuretext_cache__[str];if(__rgraph_measuretext_cache__["text-div"]){if(__rgraph_measuretext_cache__["text-div"])var div=__rgraph_measuretext_cache__["text-div"]}else{var div=document.createElement("DIV");div.style.position="absolute",div.style.top="-100px",div.style.left="-100px",document.body.appendChild(div),__rgraph_measuretext_cache__["text-div"]=div}div.innerHTML=text.replace(/\r\n/g,"<br />"),div.style.fontFamily=font,div.style.fontWeight=bold?"bold":"normal",div.style.fontSize=size+"pt";var size=[div.offsetWidth,div.offsetHeight];return __rgraph_measuretext_cache__[str]=size,size},RGraph.Text2=function(obj,opt){if(obj&&obj.isRGraph)var co=obj.context,ca=obj.canvas;else if("string"==typeof obj)var ca=document.getElementById(obj),co=ca.getContext("2d");else if("function"==typeof obj.getContext)var ca=obj,co=ca.getContext("2d");else if(-1!=(""+obj).indexOf("CanvasRenderingContext2D"))var co=obj,ca=obj.context;var x=opt.x,y=opt.y,originalX=x,originalY=y,text=opt.text,text_multiline=text.split(/\r?\n/g),numlines=text_multiline.length,font=opt.font?opt.font:"Arial",size=opt.size?opt.size:10,size_pixels=1.5*size;opt.bold;var halign=opt.halign?opt.halign:"left",valign=opt.valign?opt.valign:"bottom",tag="string"==typeof opt.tag&&opt.tag.length>0?opt.tag:"";opt.marker;var angle=opt.angle||0;"string"==typeof opt.boundingFill&&(opt["bounding.fill"]=opt.boundingFill),"string"==typeof opt.boundingStroke&&(opt["bounding.stroke"]=opt.boundingStroke);var bounding=opt.bounding,bounding_stroke=opt["bounding.stroke"]?opt["bounding.stroke"]:"black",bounding_fill=opt["bounding.fill"]?opt["bounding.fill"]:"rgba(255,255,255,0.7)",bounding_shadow=opt["bounding.shadow"],bounding_shadow_color=opt["bounding.shadow.color"]||"#ccc",bounding_shadow_blur=opt["bounding.shadow.blur"]||3,bounding_shadow_offsetx=opt["bounding.shadow.offsetx"]||3,bounding_shadow_offsety=opt["bounding.shadow.offsety"]||3,bounding_linewidth=opt["bounding.linewidth"]||1,ret={};if("number"==typeof text&&(text+=""),"string"!=typeof text)return alert("[RGRAPH TEXT] The text given must a string or a number"),void 0;0!=angle&&(co.save(),co.translate(x,y),co.rotate(Math.PI/180*angle),x=0,y=0),co.font=(opt.bold?"bold ":"")+size+"pt "+font;for(var width=0,i=0;numlines>i;++i)width=Math.max(width,co.measureText(text_multiline[i]).width);var height=size_pixels*numlines;if(document.all&&ISOLD,opt.marker){var marker_size=10,strokestyle=co.strokeStyle;obj.context.beginPath(),co.strokeStyle="red",co.moveTo(x,y-marker_size),co.lineTo(x,y+marker_size),co.moveTo(x-marker_size,y),co.lineTo(x+marker_size,y),co.stroke(),co.strokeStyle=strokestyle}if("center"==halign){co.textAlign="center";var boundingX=x-2-width/2}else if("right"==halign){co.textAlign="right";var boundingX=x-2-width}else{co.textAlign="left";var boundingX=x-2}if("center"==valign){co.textBaseline="middle",y-=1,y-=(numlines-1)/2*size_pixels;var boundingY=y-size_pixels/2-2}else if("top"==valign){co.textBaseline="top";var boundingY=y-2}else{co.textBaseline="bottom",numlines>1&&(y-=(numlines-1)*size_pixels);var boundingY=y-size_pixels-2}var boundingW=width+4,boundingH=height+4;if(bounding){var pre_bounding_linewidth=co.lineWidth,pre_bounding_strokestyle=co.strokeStyle,pre_bounding_fillstyle=co.fillStyle,pre_bounding_shadowcolor=co.shadowColor,pre_bounding_shadowblur=co.shadowBlur,pre_bounding_shadowoffsetx=co.shadowOffsetX,pre_bounding_shadowoffsety=co.shadowOffsetY;co.lineWidth=bounding_linewidth,co.strokeStyle=bounding_stroke,co.fillStyle=bounding_fill,bounding_shadow&&(co.shadowColor=bounding_shadow_color,co.shadowBlur=bounding_shadow_blur,co.shadowOffsetX=bounding_shadow_offsetx,co.shadowOffsetY=bounding_shadow_offsety),co.strokeRect(boundingX,boundingY,boundingW,boundingH),co.fillRect(boundingX,boundingY,boundingW,boundingH),co.lineWidth=pre_bounding_linewidth,co.strokeStyle=pre_bounding_strokestyle,co.fillStyle=pre_bounding_fillstyle,co.shadowColor=pre_bounding_shadowcolor,co.shadowBlur=pre_bounding_shadowblur,co.shadowOffsetX=pre_bounding_shadowoffsetx,co.shadowOffsetY=pre_bounding_shadowoffsety}if(numlines>1)for(var i=0;numlines>i;++i)co.fillText(text_multiline[i],x,y+size_pixels*i);else co.fillText(text,x,y);return 0!=angle&&(90==angle?"left"==halign?("bottom"==valign&&(boundingX=originalX-2,boundingY=originalY-2,boundingW=height+4,boundingH=width+4),"center"==valign&&(boundingX=originalX-height/2-2,boundingY=originalY-2,boundingW=height+4,boundingH=width+4),"top"==valign&&(boundingX=originalX-height-2,boundingY=originalY-2,boundingW=height+4,boundingH=width+4)):"center"==halign?("bottom"==valign&&(boundingX=originalX-2,boundingY=originalY-width/2-2,boundingW=height+4,boundingH=width+4),"center"==valign&&(boundingX=originalX-height/2-2,boundingY=originalY-width/2-2,boundingW=height+4,boundingH=width+4),"top"==valign&&(boundingX=originalX-height-2,boundingY=originalY-width/2-2,boundingW=height+4,boundingH=width+4)):"right"==halign&&("bottom"==valign&&(boundingX=originalX-2,boundingY=originalY-width-2,boundingW=height+4,boundingH=width+4),"center"==valign&&(boundingX=originalX-height/2-2,boundingY=originalY-width-2,boundingW=height+4,boundingH=width+4),"top"==valign&&(boundingX=originalX-height-2,boundingY=originalY-width-2,boundingW=height+4,boundingH=width+4)):180==angle?"left"==halign?("bottom"==valign&&(boundingX=originalX-width-2,boundingY=originalY-2,boundingW=width+4,boundingH=height+4),"center"==valign&&(boundingX=originalX-width-2,boundingY=originalY-height/2-2,boundingW=width+4,boundingH=height+4),"top"==valign&&(boundingX=originalX-width-2,boundingY=originalY-height-2,boundingW=width+4,boundingH=height+4)):"center"==halign?("bottom"==valign&&(boundingX=originalX-width/2-2,boundingY=originalY-2,boundingW=width+4,boundingH=height+4),"center"==valign&&(boundingX=originalX-width/2-2,boundingY=originalY-height/2-2,boundingW=width+4,boundingH=height+4),"top"==valign&&(boundingX=originalX-width/2-2,boundingY=originalY-height-2,boundingW=width+4,boundingH=height+4)):"right"==halign&&("bottom"==valign&&(boundingX=originalX-2,boundingY=originalY-2,boundingW=width+4,boundingH=height+4),"center"==valign&&(boundingX=originalX-2,boundingY=originalY-height/2-2,boundingW=width+4,boundingH=height+4),"top"==valign&&(boundingX=originalX-2,boundingY=originalY-height-2,boundingW=width+4,boundingH=height+4)):270==angle&&("left"==halign?("bottom"==valign&&(boundingX=originalX-height-2,boundingY=originalY-width-2,boundingW=height+4,boundingH=width+4),"center"==valign&&(boundingX=originalX-height/2-4,boundingY=originalY-width-2,boundingW=height+4,boundingH=width+4),"top"==valign&&(boundingX=originalX-2,boundingY=originalY-width-2,boundingW=height+4,boundingH=width+4)):"center"==halign?("bottom"==valign&&(boundingX=originalX-height-2,boundingY=originalY-width/2-2,boundingW=height+4,boundingH=width+4),"center"==valign&&(boundingX=originalX-height/2-4,boundingY=originalY-width/2-2,boundingW=height+4,boundingH=width+4),"top"==valign&&(boundingX=originalX-2,boundingY=originalY-width/2-2,boundingW=height+4,boundingH=width+4)):"right"==halign&&("bottom"==valign&&(boundingX=originalX-height-2,boundingY=originalY-2,boundingW=height+4,boundingH=width+4),"center"==valign&&(boundingX=originalX-height/2-2,boundingY=originalY-2,boundingW=height+4,boundingH=width+4),"top"==valign&&(boundingX=originalX-2,boundingY=originalY-2,boundingW=height+4,boundingH=width+4))),obj.context.restore()),co.textBaseline="alphabetic",co.textAlign="left",ret.x=boundingX,ret.y=boundingY,ret.width=boundingW,ret.height=boundingH,ret.object=obj,ret.text=text,ret.tag=tag,obj&&obj.isRGraph&&obj.coordsText&&obj.coordsText.push(ret),ret},RGraph.sequentialIndexToGrouped=function(index,data){for(var group=0,grouped_index=0;--index>=0;)"number"!=typeof data[group]?(grouped_index++,grouped_index>=data[group].length&&(group++,grouped_index=0)):(group++,grouped_index=0);return[group,grouped_index]},RGraph.LinearGradient=function(obj,x1,y1,x2,y2){for(var gradient=obj.context.createLinearGradient(x1,y1,x2,y2),numColors=arguments.length-5,i=5;arguments.length>i;++i){var color=arguments[i],stop=(i-5)/(numColors-1);gradient.addColorStop(stop,color)}return gradient},RGraph.RadialGradient=function(obj,x1,y1,r1,x2,y2,r2){for(var gradient=obj.context.createRadialGradient(x1,y1,r1,x2,y2,r2),numColors=arguments.length-7,i=7;arguments.length>i;++i){var color=arguments[i],stop=(i-7)/(numColors-1);gradient.addColorStop(stop,color)}return gradient},RGraph.array_shift=function(arr){for(var ret=[],i=1;arr.length>i;++i)ret.push(arr[i]);return ret},RGraph.AddEventListener=function(id,e,func){var type=arguments[3]?arguments[3]:"unknown";RGraph.Registry.Get("chart.event.handlers").push([id,e,func,type])},RGraph.ClearEventListeners=function(id){if(id&&"window"==id)window.removeEventListener("mousedown",window.__rgraph_mousedown_event_listener_installed__,!1),window.removeEventListener("mouseup",window.__rgraph_mouseup_event_listener_installed__,!1);else{var canvas=document.getElementById(id);canvas.removeEventListener("mouseup",canvas.__rgraph_mouseup_event_listener_installed__,!1),canvas.removeEventListener("mousemove",canvas.__rgraph_mousemove_event_listener_installed__,!1),canvas.removeEventListener("mousedown",canvas.__rgraph_mousedown_event_listener_installed__,!1),canvas.removeEventListener("click",canvas.__rgraph_click_event_listener_installed__,!1)}},RGraph.HidePalette=function(){var div=RGraph.Registry.Get("palette");"object"==typeof div&&div&&(div.style.visibility="hidden",div.style.display="none",RGraph.Registry.Set("palette",null))},RGraph.random=function(min,max){var dp=arguments[2]?arguments[2]:0,r=Math.random();return Number(((max-min)*r+min).toFixed(dp))},RGraph.NoShadow=function(obj){obj.context.shadowColor="rgba(0,0,0,0)",obj.context.shadowBlur=0,obj.context.shadowOffsetX=0,obj.context.shadowOffsetY=0},RGraph.SetShadow=function(obj,color,offsetx,offsety,blur){obj.context.shadowColor=color,obj.context.shadowOffsetX=offsetx,obj.context.shadowOffsetY=offsety,obj.context.shadowBlur=blur},RGraph.array_reverse=function(arr){for(var newarr=[],i=arr.length-1;i>=0;i--)newarr.push(arr[i]);return newarr},RGraph.Registry.Set=function(name,value){return RGraph.Registry.store[name]=value,value},RGraph.Registry.Get=function(name){return RGraph.Registry.store[name]},RGraph.degrees2Radians=function(degrees){return degrees*(PI/180)},RGraph.log=function(){var log=Math.log;return function(n,base){return log(n)/(base?log(base):1)}}(),RGraph.is_array=function(obj){return null!=obj&&-1!=(""+obj.constructor).indexOf("Array")},RGraph.trim=function(str){return RGraph.ltrim(RGraph.rtrim(str))},RGraph.ltrim=function(str){return str.replace(/^(\s|\0)+/,"")},RGraph.rtrim=function(str){return str.replace(/(\s|\0)+$/,"")},RGraph.GetHeight=function(obj){return obj.canvas.height},RGraph.GetWidth=function(obj){return obj.canvas.width},RGraph.is_null=function(arg){return null==arg||"object"==typeof arg&&!arg?!0:!1},RGraph.Timer=function(label){RGraph.TIMER_LAST_CHECKPOINT===void 0&&(RGraph.TIMER_LAST_CHECKPOINT=Date.now());var now=Date.now();console.log(label+": "+(""+(now-RGraph.TIMER_LAST_CHECKPOINT))),RGraph.TIMER_LAST_CHECKPOINT=now},RGraph.Async=function(func){return setTimeout(func,arguments[1]?arguments[1]:1)},RGraph.isIE=function(){return navigator.userAgent.indexOf("MSIE")>0},ISIE=RGraph.isIE(),RGraph.isIE6=function(){return navigator.userAgent.indexOf("MSIE 6")>0},ISIE6=RGraph.isIE6(),RGraph.isIE7=function(){return navigator.userAgent.indexOf("MSIE 7")>0},ISIE7=RGraph.isIE7(),RGraph.isIE8=function(){return navigator.userAgent.indexOf("MSIE 8")>0},ISIE8=RGraph.isIE8(),RGraph.isIE9=function(){return navigator.userAgent.indexOf("MSIE 9")>0},ISIE9=RGraph.isIE9(),RGraph.isIE10=function(){return navigator.userAgent.indexOf("MSIE 10")>0},ISIE10=RGraph.isIE10(),RGraph.isIE9up=function(){return navigator.userAgent.match(/MSIE (\d+)/),Number(RegExp.$1)>=9},ISIE9UP=RGraph.isIE9up(),RGraph.isIE10up=function(){return navigator.userAgent.match(/MSIE (\d+)/),Number(RegExp.$1)>=10},ISIE10UP=RGraph.isIE10up(),RGraph.isOld=function(){return ISIE6||ISIE7||ISIE8},ISOLD=RGraph.isOld(),RGraph.Reset=function(canvas){canvas.width=canvas.width,RGraph.ObjectRegistry.Clear(canvas),canvas.__rgraph_aa_translated__=!1};